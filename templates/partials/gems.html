{% set color_labels = [
    ('red', {'FR_fr': 'Rouge', 'EN_en': 'Red'}, 8),
    ('blue', {'FR_fr': 'Bleu', 'EN_en': 'Blue'}, 8),
    ('green', {'FR_fr': 'Verte', 'EN_en': 'Green'}, 8),
    ('yellow', {'FR_fr': 'Jaune', 'EN_en': 'Yellow'}, 8),
    ('purple', {'FR_fr': 'Violette', 'EN_en': 'Purple'}, 8)
] %}

<div id="gems" class="tab-content">
  <h2>Gems</h2>
  <div class="gems-image-container" style="position: relative; display: inline-block">
    <img
      src="{{ url_for('static', filename='images/Sung_Jinwoo/Gemmes.webp') }}"
      alt="Gems"
      style="max-width: 100%"
    />
    {% for color, labels, count in color_labels %}
      {% set stat = character.gems[color] if color in character.gems else '' %}
      {% for i in range(count) %}
        <div
          class="gem-hotspot gem-{{ color }}-{{ i }}"
          onmouseenter="showGemTooltip('{{ color }}-{{ i }}')"
          onmouseleave="hideGemTooltip('{{ color }}-{{ i }}')"
        >
          <div class="gem-tooltip" id="gem-tooltip-{{ color }}-{{ i }}">
            <strong>{{ color_labels[color][language] }}</strong><br />
            {{ stat }}
          </div>
        </div>
      {% endfor %}
    {% endfor %}
  </div>
</div>
<script>
  function showGemTooltip(idx) {
    document.getElementById("gem-tooltip-" + idx).style.display = "block";
  }
  function hideGemTooltip(idx) {
    document.getElementById("gem-tooltip-" + idx).style.display = "none";
  }
</script>

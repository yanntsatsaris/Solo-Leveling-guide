{% extends 'base.html' %}

{% block title %}Réinitialiser le mot de passe{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth_forms.css') }}" />
{% endblock %}

{% block content %}
    <div class="auth-container">
        <h2>Choisissez un nouveau mot de passe</h2>

        <form method="POST">
            <label for="password">Nouveau mot de passe</label>
            <input type="password" name="password" id="password" required>
            <label for="confirm_password">Confirmer le nouveau mot de passe</label>
            <input type="password" name="confirm_password" id="confirm_password" required>
            <button type="submit">Réinitialiser le mot de passe</button>
        </form>
        <div id="password-error" class="error-message" style="display: none;"></div>
    </div>

    <script>
        // Un peu de JS pour la validation côté client
        const form = document.querySelector('form');
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirm_password');
        const errorDiv = document.getElementById('password-error');

        form.addEventListener('submit', function(event) {
            if (password.value !== confirmPassword.value) {
                event.preventDefault();
                errorDiv.textContent = 'Les mots de passe ne correspondent pas.';
                errorDiv.style.display = 'block';
            }
        });
    </script>
{% endblock %}
